{"version":3,"sources":["Redux/dialogsReducer.js","api/api.js","components/Aside/Aside.module.css","utills/formsControls/formsControls.js","components/Header/vk-256x256.png","components/Header/Header.jsx","Redux/authHeader.js","components/Header/HeaderContainer.jsx","components/Aside/Aside.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settingss/Settingss.jsx","components/Users/Paginator/Paginator.jsx","components/Users/person.png","components/Users/User.jsx","components/Users/UsersC.jsx","utills/objectHelpers.js","Redux/usersReducer.js","Redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Login/Login.jsx","Redux/appReducer.js","Redux/asideReducer.js","Redux/redux-store.js","Hoc/withSuspense.js","App.js","index.js","components/Users/preloader/1491.gif","components/Users/preloader/Preloader.jsx","components/Users/Users.module.css","utills/formsControls/FormControls.module.css","components/Header/Header.module.css","components/Users/Paginator/Paginator.module.css","utills/validators/validators.js","Redux/profileReducer.js"],"names":["ADD_NEW_MESSAGE","initialState","dialogItem","id","name","messageItem","message","dialogsReducer","state","action","type","newMessageText","addNewMessageCreator","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","module","exports","FormControl","input","meta","touched","error","children","formError","className","classes","Textarea","props","restProps","child","Input","createField","placeholder","namee","component","validators","text","validate","Header","header","header_img","src","logo","alt","header_login","isAuth","onClick","to","SET_AUTH_DATA","authHeader","payload","setAuthData","getAuthData","dispatch","a","resultCode","HeaderContainer","this","React","Component","connect","Aside","aside","aside_list","aside_list_item","activeClassName","active","News","news","Music","music","Settingss","settingss","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","filter","p","map","cn","selectedPage","pageNumber","e","User","user","followingInProgress","user_image","photos","small","person","followed","disabled","some","Users","totalUsersCount","users","updateObjectInArray","items","itemId","objPropName","newObjProps","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","SET_FETCH_TOGGLE","TOGGLE_IS_FOLLOWING_PROGRESS","isFetching","followUnfollowFlow","apiMethod","actionCreator","toggleFollowingProgress","usersReducer","count","followSuccess","unfollowSuccess","SetUsers","SetCurrentPage","SetTotalUsersCount","SetToggleIsFetching","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","requestUsers","length","Preloader","compose","bind","page","totalCount","ReduxLoginForm","reduxForm","form","handleSubmit","onSubmit","required","commonLoginError","messages","stopSubmit","_error","formData","INITIALIZED_SUCCESS","initialized","appReducer","asideReducer","reducers","combineReducers","profileReducer","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","SamuraiJSApp","ReactDOM","document","getElementById","style","backgroundColor","preloader","value","maxLengthCreator","maxValue","ADD_NEW_POST","SET_USER_PROFILE","SET_USER_STATUS","DELETE_USER","postItem","likes","selectedUserProfile","newPostText","userProfile","currentId","addNewPostCreator","setStatus","getUserProfile","getUserStatus","updateUserStatus"],"mappings":"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","file":"static/js/main.edcd7368.chunk.js","sourcesContent":["let ADD_NEW_MESSAGE = \"ADD_NEW_MESSAGE\";\r\n\r\nlet initialState = {\r\n    dialogItem: [\r\n        {id: 1, name: \"Vovka\"},\r\n        {id: 2, name: \"Temka\"},\r\n        {id: 3, name: \"Dimka\"},\r\n        {id: 4, name: \"Stasyan\"},\r\n        {id: 5, name: \"Danya\"},\r\n        {id: 6, name: \"Andrei\"},\r\n    ],\r\n    messageItem: [\r\n        {id: 1, message: \"Hi!\"},\r\n        {id: 2, message: \"How are you?\"},\r\n        {id: 3, message: \"I'm chilling out!\"},\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch(action.type) {\r\n        case ADD_NEW_MESSAGE:\r\n            let message = {\r\n                id: 4,\r\n                message: action.newMessageText\r\n            };\r\n            return {\r\n                ...state,\r\n                messageItem: [...state.messageItem, message],\r\n                newMessageText: \"\"\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default dialogsReducer;\r\n\r\nconst addNewMessageCreator = (newMessageText) => ({type: ADD_NEW_MESSAGE, newMessageText});\r\n\r\nexport {addNewMessageCreator};","import axios from \"axios\";\r\n\r\nlet instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    headers: {\r\n        \"API-KEY\": \"771915b6-2729-4906-adce-d5648f6b0941\",\r\n         \r\n    },\r\n\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSize) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n        .then((response) => {\r\n            return response.data\r\n        });\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        console.warn(\"Obsolete method. Please use profileAPI object.\")\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(\"auth/me\");\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(\"auth/login\", {email, password, rememberMe});\r\n    },\r\n    logout() {\r\n        return instance.delete(\"auth/login\");\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"Aside_aside__2TvKR\",\"aside_list\":\"Aside_aside_list__1_GgW\",\"aside_list_item\":\"Aside_aside_list_item__2X7kB\",\"active\":\"Aside_active__1Tjz3\"};","import React from \"react\";\r\nimport classes from \"./FormControls.module.css\";\r\nimport { Field } from 'redux-form';\r\n\r\nexport const FormControl = ({input, meta: {touched, error}, children}) => {\r\n    let formError = touched && error;\r\n    return (\r\n        <div className={formError ? classes.error : \"\"}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {formError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, namee, component, validators, props = {}, text = \"\") => {\r\n    return (\r\n    <div>\r\n        <Field placeholder={placeholder} name={namee} component={component} validate={validators} {...props} />{text}\r\n    </div>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/vk-256x256.d113d735.png\";","import { NavLink } from \"react-router-dom\";\r\nimport classes from \"./Header.module.css\";\r\nimport logo from \"./vk-256x256.png\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={classes.header}>\r\n            <img className={classes.header_img} src={logo} alt=\"logo\" />\r\n            <div className={classes.header_login}>\r\n                {props.isAuth \r\n                ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n                : <NavLink to=\"/login\">Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nlet SET_AUTH_DATA = \"SET_AUTH_DATA\";\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n}\r\n\r\nconst authHeader = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SET_AUTH_DATA:\r\n            return ({\r\n                ...state,\r\n                ...action.payload\r\n                })\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default authHeader;\r\n\r\nconst setAuthData = (userId, email, login, isAuth) => ({type: SET_AUTH_DATA, payload: {userId, email, login, isAuth}})\r\nconst getAuthData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n        \r\n    if(response.data.resultCode === 0) {\r\n    let {id, email, login} = response.data.data;\r\n    dispatch(setAuthData(id, email, login, true));\r\n    }\r\n}\r\n\r\nconst login = (email, password, rememberMe) => async (dispatch) => {\r\n   let response = await authAPI.login(email, password, rememberMe);\r\n        \r\n    if(response.data.resultCode === 0) {\r\n        dispatch(getAuthData());\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error!\";\r\n        dispatch(stopSubmit(\"login\", {_error: message}));\r\n    }\r\n}\r\n\r\nconst logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n\r\n    if(response.data.resultCode === 0) {\r\n        dispatch(setAuthData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport {setAuthData, getAuthData, login, logout};","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../Redux/authHeader\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <Header {...this.props} />\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    login: state.authHeader.login,\r\n    isAuth: state.authHeader.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import classes from \"./Aside.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Aside = (props) => {\r\n    return (\r\n        <div className={classes.aside}>\r\n            <ul className={classes.aside_list}>\r\n                <li className={classes.aside_list_item}>\r\n                    <NavLink to=\"/profile\" activeClassName={classes.active}>Profile</NavLink>\r\n                    </li>\r\n                <li className={classes.aside_list_item}>\r\n                    <NavLink to=\"/dialogs\" activeClassName={classes.active}>Dialogs</NavLink>\r\n                    </li>\r\n                <li className={classes.aside_list_item}>\r\n                    <NavLink to=\"/news\" activeClassName={classes.active}>News</NavLink>\r\n                    </li>\r\n                <li className={classes.aside_list_item}>\r\n                    <NavLink to=\"/music\" activeClassName={classes.active}>Music</NavLink>\r\n                    </li>\r\n                <li className={classes.aside_list_item}>\r\n                    <NavLink to=\"/settings\" activeClassName={classes.active}>Settings</NavLink>\r\n                    </li>\r\n                <li className={classes.aside_list_item}>\r\n                    <NavLink to=\"/users\" activeClassName={classes.active}>Users</NavLink>\r\n                    </li>\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Aside;","import classes from \"./News.module.css\";\r\n\r\nconst News = (props) => {\r\n    return (\r\n      <div className={classes.news}>\r\n          News\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default News;","import classes from \"./Music.module.css\";\r\n\r\nconst Music = (props) => {\r\n    return (\r\n      <div className={classes.music}>\r\n          Music\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import classes from \"./Settingss.module.css\";\r\n\r\nconst Settingss = (props) => {\r\n    return (\r\n      <div className={classes.settingss}>\r\n          Settings\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Settingss;","import React, {useState} from \"react\";\r\nimport classes from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\nlet pagesCount = Math.ceil(totalItemsCount / pageSize);\r\nlet pages = [];\r\nfor(let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n}\r\n\r\nlet portionCount = Math.ceil(pagesCount / portionSize);\r\nconst [portionNumber, setPortionNumber] = useState(1);\r\nlet leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\nlet rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n    return (\r\n        <div className={classes.paginator}>\r\n            {portionNumber > 1 && \r\n            <button onClick={() => {setPortionNumber(portionNumber - 1)}}>PREV</button>}\r\n            {pages\r\n                .filter((p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map((p) => {\r\n                    return <span className={cn ({\r\n                        [classes.selectedPage] : currentPage === p\r\n                    }, classes.pageNumber) }\r\n                            onClick={(e) => { onPageChanged(p) }}\r\n                            key={p}>{p}</span>;\r\n                })\r\n            }\r\n            {portionCount > portionNumber && \r\n            <button onClick={() => {setPortionNumber(portionNumber + 1)}}>NEXT</button>}\r\n        </div> \r\n    )\r\n}\r\n\r\nexport default Paginator;","export default __webpack_public_path__ + \"static/media/person.8b9cd9e1.png\";","import classes from \"./Users.module.css\";\r\nimport person from \"./person.png\";\r\nimport React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst User = ({user, followingInProgress, follow, unfollow}) =>  {\r\n        return (\r\n                <div key={user.id} className={classes.user}>\r\n                    <div>\r\n                        <div>\r\n                            <NavLink to={\"/profile/\" + user.id}>\r\n                                <img className={classes.user_image} src={user.photos.small != null ? user.photos.small : person } alt=\"avatar\" />\r\n                            </NavLink>\r\n                        </div>\r\n                        {user.followed \r\n                            ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {unfollow(user.id);}\r\n                            }>unfollow</button> \r\n                            : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {follow(user.id);}\r\n                            }>follow</button>\r\n                        }\r\n                    </div>\r\n                    <div>\r\n                        <p>{`${\"user.location.country\"}, ${\"user.location.city\"}`}</p>\r\n                        <p>{user.name}</p>\r\n                        <p>{user.status}</p>\r\n                    </div>\r\n                </div>\r\n        )\r\n}\r\n\r\nexport default User;","import classes from \"./Users.module.css\";\r\nimport React from \"react\";\r\nimport Paginator from \"./Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nconst Users = ({currentPage, onPageChanged, totalUsersCount, pageSize, users, ...props}) =>  {\r\n        return (\r\n        <div className={classes.users}>\r\n            <Paginator currentPage={currentPage} onPageChanged={onPageChanged} totalItemsCount={totalUsersCount} pageSize={pageSize} />\r\n            {users.map((user) => {\r\n               return (\r\n                <User user={user} key={user.id} followingInProgress={props.followingInProgress} follow={props.follow} unfollow={props.unfollow}   />\r\n            )\r\n            })}\r\n        </div>\r\n        )\r\n}\r\n\r\nexport default Users;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n        return items.map((u) => {\r\n            if(u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n};","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utills/objectHelpers\";\r\nlet FOLLOW = \"FOLLOW\";\r\nlet UNFOLLOW = \"UNFOLLOW\";\r\nlet SET_USERS = \"SET_USERS\";\r\nlet SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nlet SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nlet SET_FETCH_TOGGLE = \"SET_FETCH_TOGGLE\";\r\nlet TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\n\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n       case FOLLOW:\r\n           return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n        }\r\n\r\n        case UNFOLLOW:\r\n        return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n        }\r\n\r\n        case SET_USERS:\r\n        return {\r\n            ...state,\r\n            users: [...action.users]\r\n        }\r\n        case SET_CURRENT_PAGE:\r\n        return {\r\n            ...state,\r\n            currentPage: action.currentPage\r\n        }\r\n        case SET_TOTAL_USERS_COUNT:\r\n        return {\r\n            ...state,\r\n            totalUsersCount: action.count\r\n        }\r\n        case SET_FETCH_TOGGLE:\r\n        return {\r\n            ...state,\r\n            isFetching: action.isFetching\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n        return {\r\n            ...state,\r\n            followingInProgress: action.isFetching \r\n            ? [...state.followingInProgress, action.userId]\r\n            : [state.followingInProgress.filter(id => id !== action.userId)]\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(SetToggleIsFetching(true));\r\n        dispatch(SetCurrentPage(page))\r\n\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n            dispatch(SetToggleIsFetching(false));\r\n            dispatch(SetUsers(data.items));\r\n            dispatch(SetTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n        let response = await apiMethod(userId);\r\n\r\n        if(response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n        }\r\n        dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n        return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n    };\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n        return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n    };\r\n}\r\n\r\nexport default usersReducer;\r\n\r\nconst followSuccess = (userId) => ({type: FOLLOW, userId});\r\n\r\nconst unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\n\r\nconst SetUsers = (users) => ({type: SET_USERS, users})\r\n\r\nconst SetCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\n\r\nconst SetTotalUsersCount = (count) => ({type: SET_TOTAL_USERS_COUNT, count: count})\r\n\r\nconst SetToggleIsFetching = (isFetching) => ({type: SET_FETCH_TOGGLE, isFetching})\r\n\r\nconst toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId})\r\n\r\nexport {followSuccess, unfollowSuccess, SetUsers, SetCurrentPage, SetTotalUsersCount, SetToggleIsFetching, toggleFollowingProgress};","import { createSelector } from \"reselect\";\r\n\r\nexport const getUsersSelector = (state) => {\r\n    return state.usersReducer.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true);\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersReducer.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersReducer.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersReducer.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersReducer.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersReducer.followingInProgress;\r\n}","import React from \"react\";\r\nimport Users from \"./UsersC\";\r\nimport {connect} from \"react-redux\";\r\nimport { follow, unfollow, SetCurrentPage, toggleFollowingProgress, requestUsers } from \"../../Redux/usersReducer\";\r\nimport Preloader from \"./preloader/Preloader\";\r\nimport { compose } from \"redux\";\r\nimport {getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress} from \"../../Redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component  {\r\n\r\n    componentDidMount() {\r\n    if(this.props.users.length === 0) {\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.requestUsers(currentPage, pageSize);\r\n        // this.props.SetToggleIsFetching(true);\r\n        // usersAPI.getUsers(this.props.currentPage, this.props.pageSize)\r\n        // .then((data ) => {\r\n        //     this.props.SetToggleIsFetching(false);\r\n        //     this.props.SetUsers(data.items);\r\n        //     this.props.SetTotalUsersCount(data.totalCount);\r\n        //     });\r\n        }\r\n    }\r\n    \r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.requestUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n            <Users \r\n            totalUsersCount={this.props.totalUsersCount}\r\n            currentPage={this.props.currentPage}\r\n            pageSize={this.props.pageSize}\r\n            onPageChanged={this.onPageChanged}\r\n            users={this.props.users}\r\n            follow={this.props.follow}\r\n            unfollow={this.props.unfollow}\r\n            toggleFollowingProgress={this.props.toggleFollowingProgress}\r\n            followingInProgress={this.props.followingInProgress} />\r\n            \r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    SetCurrentPage,\r\n    toggleFollowingProgress,\r\n    requestUsers\r\n}))(UsersContainer);\r\n\r\n// export default withAuthRedirect(connect(mapStateToProps, {\r\n//     follow,\r\n//     unfollow,\r\n//     SetCurrentPage,\r\n//     toggleFollowingProgress,\r\n//     getUsers\r\n// })(UsersContainer));","import React from \"react\";\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { required } from \"../../utills/validators/validators\";\r\nimport { Input } from \"../../utills/formsControls/formsControls\";\r\nimport {connect} from \"react-redux\";\r\nimport { login } from \"../../Redux/authHeader\";\r\nimport { Redirect } from \"react-router\";\r\nimport classes from \"../../utills/formsControls/FormControls.module.css\";\r\nimport { createField } from \"../../utills/formsControls/formsControls\";\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit} >\r\n            {createField(\"email\", \"email\", Input, [required])}\r\n            {createField(\"password\", \"password\", Input, [required], {type: \"password\"})}\r\n            {createField(null, \"remember me\", Input, [], {type: \"checkbox\"}, \"remember me\")}\r\n            {error && <div className={classes.commonLoginError}>{error}</div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst ReduxLoginForm = reduxForm({\r\n    form: 'login'\r\n  })(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if(props.isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <ReduxLoginForm onSubmit={onSubmit} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.authHeader.isAuth\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import {getAuthData} from \"./authHeader\";\r\n\r\nlet INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return ({\r\n                ...state,\r\n                initialized: true\r\n                })\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default appReducer;\r\n\r\nconst initializedSuccess = () => ({ type: INITIALIZED_SUCCESS })\r\nconst initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthData());\r\n    promise.then(() => {\r\n        dispatch(initializedSuccess());\r\n    });\r\n}\r\n\r\n\r\nexport {initializedSuccess, initializeApp};","let initialState = {};\r\n\r\nconst asideReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\n\r\nexport default asideReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport asideReducer from \"./asideReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authHeader from \"./authHeader\";\r\nimport appReducer from \"./appReducer\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport {compose} from \"redux\";\r\n\r\nlet reducers = combineReducers({\r\n    profileReducer,\r\n    dialogsReducer,\r\n    asideReducer,\r\n    usersReducer,\r\n    authHeader,\r\n    appReducer,\r\n    form: formReducer});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(\r\n    applyMiddleware(thunkMiddleware))); \r\n\r\n// window.store = store;\r\n\r\nexport default store;","import Preloader from \"../components/Users/preloader/Preloader\";\r\nimport React from \"react\";\r\n\r\nconst withSuspense = (Component) => {\r\n    return (props) => {\r\n       return (\r\n           <React.Suspense fallback={<Preloader />}>\r\n               <Component {...props} />\r\n           </React.Suspense>\r\n       )\r\n    }\r\n}\r\n\r\nexport default withSuspense;","import './App.css';\nimport React from 'react';\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Aside from './components/Aside/Aside';\nimport News from './components/News/News';\nimport Music from './components/Music/Music';\nimport Settingss from './components/Settingss/Settingss';\nimport {Route} from \"react-router-dom\";\nimport UsersContainer from './components/Users/UsersContainer';\nimport Login from './components/Login/Login';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport { compose } from 'redux';\nimport { initializeApp } from './Redux/appReducer';\nimport Preloader from './components/Users/preloader/Preloader';\nimport {HashRouter} from \"react-router-dom\";\nimport store from \"./Redux/redux-store\";\nimport {Provider} from \"react-redux\";\nimport withSuspense from \"./Hoc/withSuspense\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n  render() {\n    if(!this.props.initialized) {\n      return <Preloader />\n    }\n\n    return (\n    <div className=\"App\">\n      <HeaderContainer />\n      <Aside />\n      <div className=\"App_main\">\n        <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)} />\n        <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)} />\n        <Route path=\"/news\" render={() => <News />}/>\n        <Route path=\"/music\" render={() => <Music />}/>\n        <Route path=\"/settings\" render={() => <Settingss />}/>\n        <Route path=\"/users\" render={() => <UsersContainer />} />\n        <Route path=\"/login\" render={() => <Login />} />\n      </div>\n    </div>\n    )\n  };\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.appReducer.initialized\n})\n\nlet AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, {initializeApp}))(App);\n\nconst SamuraiJSApp = () => {\n  return (\n    <HashRouter>\n      <Provider store={store} >\n          <AppContainer />\n      </Provider>\n    </HashRouter>\n  )\n}\n\nexport default SamuraiJSApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport SamuraiJSApp from './App';\n\n  ReactDOM.render(\n    <SamuraiJSApp />,\n    document.getElementById('root')\n  );\n\n\n","export default __webpack_public_path__ + \"static/media/1491.ddd47ec4.gif\";","import React from \"react\";\r\nimport preloader from \"./1491.gif\";\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <div style={ {backgroundColor: \"white\"} }>\r\n            <img src={preloader} alt=\"preloader!\" />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"Users_user__2UlEr\",\"user_image\":\"Users_user_image__qvKqc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormControls_error__1R8xb\",\"commonLoginError\":\"FormControls_commonLoginError__1xG1U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__23AuS\",\"header_img\":\"Header_header_img__3cNuo\",\"header_login\":\"Header_header_login__4dHD-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__33WHW\",\"pageNumber\":\"Paginator_pageNumber__1gcbO\",\"selectedPage\":\"Paginator_selectedPage__1ye8d\"};","export const required = (value) => {\r\n    if(value) return undefined;\r\n    \r\n    return \"Field is required!\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxValue) => (value) => {\r\n    if(value.length > maxValue) {\r\n        return `Max length is ${maxValue} symbols!`;\r\n    }\r\n    return undefined;\r\n}","import {usersAPI} from \"../api/api\";\r\nimport {profileAPI} from \"../api/api\";\r\nlet ADD_NEW_POST = \"ADD_NEW_POST\";\r\nlet SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nlet SET_USER_STATUS = \"SET_USER_STATUS\";\r\nlet DELETE_USER = \"DELETE_USER\";\r\n\r\nlet initialState = {\r\n    postItem: [\r\n        {id: 1, message: \"It's my first post\", likes: 20},\r\n        {id: 2, message: \"Where are you from?\", likes: 14},\r\n        {id: 3, message: \"It's my first post\", likes: 10},\r\n        {id: 4, message: \"Where are you from?\", likes: 16},\r\n    ],\r\n    selectedUserProfile: null,\r\n    status: \"\"\r\n}; \r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case ADD_NEW_POST: \r\n            let post = {id: 5, message: action.newPostText, likes: 24};\r\n            return {\r\n                ...state,\r\n                postItem: [...state.postItem, post],\r\n                newPostText: \"\"\r\n            };\r\n\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                selectedUserProfile: action.userProfile\r\n            }\r\n        case SET_USER_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case DELETE_USER:\r\n            return {\r\n                ...state,\r\n                postItem: state.postItem.filter(p => p.id !== action.currentId)   \r\n\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default profileReducer;\r\n\r\nconst addNewPostCreator = (newPostText) => ({type: ADD_NEW_POST, newPostText});\r\n\r\nconst setUserProfile = (userProfile) => ({type: SET_USER_PROFILE, userProfile});\r\n\r\nconst setStatus = (status) => ({type: SET_USER_STATUS, status});\r\n\r\nconst deletePost = (currentId) => ({type: DELETE_USER, currentId});\r\n\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId);\r\n       \r\n    dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    \r\n    dispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n\r\n    if(response.data.resultCode === 0) {\r\n    dispatch(setStatus(status));\r\n    }\r\n}\r\n\r\n\r\nexport {addNewPostCreator, setUserProfile, deletePost};"],"sourceRoot":""}