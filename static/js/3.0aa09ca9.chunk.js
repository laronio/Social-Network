(this.webpackJsonpsocial=this.webpackJsonpsocial||[]).push([[3],{295:function(t,e,s){"use strict";s.d(e,"a",(function(){return h}));var a=s(5),i=s(35),r=s(36),n=s(38),o=s(37),c=s(0),u=s.n(c),d=s(9),p=s(15),l=s(1),j=function(t){return{isAuth:t.authHeader.isAuth}},h=function(t){var e=function(e){Object(n.a)(c,e);var s=Object(o.a)(c);function c(){return Object(i.a)(this,c),s.apply(this,arguments)}return Object(r.a)(c,[{key:"render",value:function(){return this.props.isAuth?Object(l.jsx)(t,Object(a.a)({},this.props)):Object(l.jsx)(d.a,{to:"/login"})}}]),c}(u.a.Component);return Object(p.b)(j)(e)}},299:function(t,e,s){},300:function(t,e,s){t.exports={profileInfo_img:"ProfileInfo_profileInfo_img__1kscW",descriptionBlock:"ProfileInfo_descriptionBlock__3rvx9"}},301:function(t,e,s){t.exports={postsBlock:"MyPosts_postsBlock__3IiAB",posts:"MyPosts_posts__2PiDF"}},302:function(t,e,s){t.exports={post_img:"Post_post_img__K2wKv"}},303:function(t,e,s){"use strict";s.r(e);var a=s(5),i=s(35),r=s(36),n=s(38),o=s(37),c=s(0),u=s.n(c),d=s(299),p=s.n(d),l=s(300),j=s.n(l),h=s(41),b=s(1),f=function(t){Object(n.a)(s,t);var e=Object(o.a)(s);function s(){var t;Object(i.a)(this,s);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))).state={editMode:!1,status:t.props.status},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateUserStatus(t.state.status)},t.onChangeStatus=function(e){t.setState({status:e.currentTarget.value})},t}return Object(r.a)(s,[{key:"componentDidUpdate",value:function(t,e){this.props.status!==t.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(b.jsxs)("div",{children:[!this.state.editMode&&Object(b.jsx)("div",{children:Object(b.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"------------"})}),this.state.editMode&&Object(b.jsx)("div",{children:Object(b.jsx)("input",{onChange:this.onChangeStatus,autoFocus:!0,value:this.state.status,onBlur:this.deactivateEditMode})})]})}}]),s}(u.a.Component),O=f,v=function(t){var e=t.profile,s=t.status,a=t.updateUserStatus;return e?Object(b.jsx)("div",{className:j.a.profileInfo,children:Object(b.jsxs)("div",{className:j.a.descriptionBlock,children:[Object(b.jsx)("img",{src:e.photos.large,alt:"big"}),Object(b.jsx)(O,{status:s,updateUserStatus:a})]})}):Object(b.jsx)(h.a,{})},m=s(301),x=s.n(m),g=s(302),_=s.n(g),k=s.p+"static/media/avatar.bf0da7af.jpg",P=function(t){return Object(b.jsxs)("div",{className:_.a.post,children:[Object(b.jsx)("img",{className:_.a.post_img,src:k,alt:"avatar"}),t.message,Object(b.jsx)("div",{children:Object(b.jsx)("span",{className:_.a.post_likes,children:t.likes})})]})},S=s(127),U=s(92),y=s(77),I=s(28),M=Object(y.a)(10),w=Object(S.a)({form:"ProfileAddNewPostForm"})((function(t){return Object(b.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(b.jsx)("div",{children:Object(b.jsx)(U.a,{component:I.b,name:"newPostText",validate:[y.b,M]})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{children:"Add post"})})]})})),A=u.a.memo((function(t){console.log("Render!");var e=t.postItem.map((function(t){return Object(b.jsx)(P,{message:t.message,likes:t.likes})}));return Object(b.jsxs)("div",{className:x.a.postsBlock,children:[Object(b.jsx)("h3",{children:"My posts"}),Object(b.jsx)(w,{onSubmit:function(e){t.addPost(e.newPostText)}}),Object(b.jsx)("div",{className:x.a.posts,children:e})]})})),N=s(96),B=s(15),C=Object(B.b)((function(t){return{newPostText:t.profileReducer.newPostText,postItem:t.profileReducer.postItem}}),(function(t){return{addPost:function(e){var s=Object(N.a)(e);t(s)}}}))(A),R=function(t){return Object(b.jsxs)("div",{className:p.a.profile,children:[Object(b.jsx)(v,{profile:t.profile,status:t.status,updateUserStatus:t.updateUserStatus}),Object(b.jsx)(C,{})]})},T=s(9),D=(s(295),s(10)),E=function(t){Object(n.a)(s,t);var e=Object(o.a)(s);function s(){return Object(i.a)(this,s),e.apply(this,arguments)}return Object(r.a)(s,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsx)(R,Object(a.a)(Object(a.a)({},this.props),{},{profile:this.props.selectedUserProfile,status:this.props.status,updateUserStatus:this.props.updateUserStatus}))})}}]),s}(u.a.Component);e.default=Object(D.d)(Object(B.b)((function(t){return{selectedUserProfile:t.profileReducer.selectedUserProfile,status:t.profileReducer.status,authorizedUserId:t.authHeader.userId,isAuth:t.authHeader.isAuth}}),{getUserProfile:N.c,getUserStatus:N.d,updateUserStatus:N.e}),T.f)(E)}}]);
//# sourceMappingURL=3.0aa09ca9.chunk.js.map